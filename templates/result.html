{% extends "base.html" %}

{% block content %}
<div class="container">
    <h2>Извлеченный текст</h2>
    {% if not is_premium %}
    <div class="premium-banner">
        <p>Вы используете бесплатную версию. <a href="{{ url_for('premium') }}">Перейдите на Премиум</a> для полного доступа.</p>
    </div>
    {% endif %}

    <div class="text-result">
        <textarea readonly>{{ text }}</textarea>
    </div>

    <div class="actions">
        <button onclick="copyToClipboard()" class="btn-primary">Копировать текст</button>
        <a href="{{ url_for('index') }}" class="btn-outline">Конвертировать другой файл</a>
    </div>
</div>

<script>
    function copyToClipboard() {
        const textarea = document.querySelector('textarea');
        textarea.select();
        document.execCommand('copy');

        // Временное изменение текста кнопки
        const btn = document.querySelector('.actions button');
        const originalText = btn.textContent;
        btn.textContent = 'Текст скопирован!';

        setTimeout(() => {
            btn.textContent = originalText;
        }, 2000);
    }
</script>
{% endblock %}